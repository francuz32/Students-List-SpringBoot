<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Students List</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>
<body>
            <div class="py-2" style="margin-left: 15px;">
                <form th:action="@{/buscar}" method="POST" class="row g-4">
                    <div class="col-xs-12 col-md-4 col-lg-4">
                        <label for="region" class="form-label text-muted small mx-2">Region</label>
                        <select name="codigoRegion" id="region" class="form-select">
                            <option value="0" selected>Choose a Region</option>
                            <option th:each="regiones : ${regiones}" 
                                    th:text="${regiones.nombre}"
                                    th:value="${regiones.codigoRegion}"
                                    />
                        </select>
                    </div>
                    
                                        <div class="col-xs-12 col-md-4 col-lg-4">
                        <label for="cursos" class="form-label text-muted small mx-2">Course</label>
                        <select name="codigoCurso" id="cursos" class="form-select">
                            <option value = "0" selected>Select a Course</option>
                            <option th:each="cursos : ${cursos}" 
                                    th:text="${cursos.codigoCurso}"
                                    th:value="${cursos.codigoCurso}"
                                    />
                        </select>
                    </div>
                    <div class="col-xs-12 col-md-4 col-lg-4 d-flex align-items-end justify-content-center">
                        <button type="submit" class="btn btn-primary px-5 fw-bold">Search</button>
                    </div>
                </form>
            </div>
            <div class="list-group">
  <a th:href="@{/estudiantes}" class="list-group-item list-group-item-action active" style="width: 200px; position: absolute; left: 1465px; font-weight: bold; text-align: center">
    Complete List
  </a>
</div>

        <div class="container my-1">
            <h1 class="fw-bold py-2 text-center">Students List</h1><hr>
            <table class="table table-hover text-center text-muted">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Father's Last Name</th>
                        <th>Mother's Last Name</th>
                        <th>Course Code</th>
                        <th>Course Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="e : ${estudiantes}">
                        <td th:text="${e.rut}"></td>
                        <td th:text="${e.nombre}"></td>
                        <td th:text="${e.apellidoPat}"></td>
                        <td th:text="${e.apellidoMat}"></td>
                        <td th:text="${e.curso.codigoCurso}"></td>
                         <td th:text="${e.curso.planFormativo.descripcion}"></td>

                </tr>
                </tbody>
            </table>
        </div>

</body>
</html>